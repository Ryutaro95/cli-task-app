# Task CLI

モダンなターミナルベースのタスク管理アプリケーション。テキストユーザーインターフェース（TUI）を備え、テスト駆動開発（TDD）の原則に基づいてGoで構築されています。

![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)
![Go Version](https://img.shields.io/badge/go-1.21+-00ADD8.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)

## 🚀 機能

- **📝 完全なタスク管理**: タスクの作成、編集、削除、ステータス切り替え
- **🎨 美しいTUIインターフェース**: 清潔で直感的なターミナルユーザーインターフェース
- **🔍 スマートフィルタリング**: ステータス、優先度、検索クエリによるタスクフィルタリング
- **🏷️ タグサポート**: カンマ区切りタグによるタスク整理
- **💾 データ永続化**: バックアップ付き自動JSON形式ローカルストレージ
- **🌈 テーマサポート**: ダーク、ライト、デフォルトテーマ
- **⌨️ キーボードナビゲーション**: 全操作に対応する効率的なキーボードショートカット
- **🧪 テスト駆動**: 包括的なテストカバレッジ（90%以上）で構築

## 📦 インストール

### 前提条件
- Go 1.21以上

### ソースからビルド
```bash
git clone <repository-url>
cd task-cli
go build -o task-cli ./cmd/task-cli/
```

### 実行
```bash
./task-cli
```

## 🎯 使用方法

### 基本コマンド
```bash
# アプリケーションを開始
./task-cli

# カスタムデータディレクトリを使用
./task-cli --data-dir ~/.my-tasks

# 異なるテーマを使用
./task-cli --theme dark

# ヘルプを表示
./task-cli --help

# バージョンを表示
./task-cli --version
```

## ⌨️ キーボードショートカット

### リストビュー
| キー | アクション |
|-----|--------|
| `n` | **新規**タスク作成 |
| `e` | 選択したタスクを**編集** |
| `d` | 選択したタスクを**削除** |
| `t` | タスクステータスを**切り替え** |
| `↑/↓` | 上下に移動 |
| `q` | アプリケーションを**終了** |
| `Esc` | アプリケーションを終了 |

### フォームビュー（タスク作成・編集）
| キー | アクション |
|-----|--------|
| `Tab` | 次のフィールドに移動 |
| `Shift+Tab` | 前のフィールドに移動 |
| `Ctrl+S` | フォームを**送信** |
| `Esc` | キャンセルしてリストに戻る |
| `Enter` | フォームを送信（ボタン上の場合） |

## 🏗️ アプリケーション構造

### タスクプロパティ
- **タイトル**: タスク名（必須、最大100文字）
- **説明**: 詳細説明（任意、最大500文字）
- **ステータス**: Todo → 進行中 → 完了
- **優先度**: 高 (🔴) / 中 (🟡) / 低 (🟢)
- **タグ**: 整理用のカンマ区切りラベル
- **タイムスタンプ**: 作成日時、更新日時、完了日時

### データストレージ
- **場所**: `~/.task-cli/tasks.json` (デフォルト)
- **形式**: 自動フォーマット付きJSON
- **バックアップ**: `~/.task-cli/backups/` に自動バックアップ

## 🎨 テーマ

### 利用可能なテーマ
- **デフォルト**: バランスの取れたダークテーマ
- **ダーク**: 高コントラストダークテーマ
- **ライト**: 明るい環境用のクリーンなライトテーマ

### カラーコーディング
- 🔴 **高優先度**: 緊急タスク用の赤色
- 🟡 **中優先度**: 通常タスク用の黄色・オレンジ
- 🟢 **低優先度**: 低優先度タスク用の緑色
- **ステータスシンボル**: ◯ (Todo), ◐ (進行中), ● (完了)

## 🔧 設定

### コマンドラインオプション
```bash
フラグ:
      --data-dir string   タスクデータを保存するディレクトリ (デフォルト "~/.task-cli")
  -h, --help              task-cliのヘルプ
      --theme string      使用するテーマ (default, dark, light) (デフォルト "default")
  -v, --version           task-cliのバージョン
```

### データディレクトリ構造
```
~/.task-cli/
├── tasks.json          # メインタスクデータファイル
└── backups/            # 自動バックアップ
    ├── tasks_backup_20231201_143022.json
    └── tasks_backup_20231201_120815.json
```

## 🛠️ 開発

このプロジェクトは包括的なテストカバレッジを持つテスト駆動開発（TDD）の原則に従っています。

### アーキテクチャ
- **クリーンアーキテクチャ**: 関心の分離を明確にした層状設計
- **ドメイン層**: コアビジネスロジックとモデル
- **リポジトリ層**: データ永続化の抽象化
- **サービス層**: ビジネス操作と状態管理
- **UI層**: ターミナルユーザーインターフェースコンポーネント
- **CLI層**: コマンドラインインターフェース統合

### テストの実行
```bash
# 全てのテストを実行
go test ./...

# カバレッジ付きでテストを実行
go test -cover ./...

# 特定パッケージのテストを実行
go test ./internal/model/
go test ./internal/ui/
```

## 📝 例

### 最初のタスクを作成
1. アプリケーションを開始: `./task-cli`
2. `n` を押して新しいタスクを作成
3. フィールドに入力:
   - タイトル: "プロジェクトドキュメント完成"
   - 説明: "包括的なREADMEとAPIドキュメントを作成"
   - 優先度: "高"
   - タグ: "ドキュメント,プロジェクト"
4. `Ctrl+S` を押すか送信ボタンをクリック

### タスクステータス管理
1. 矢印キーでタスクに移動
2. `t` を押してステータス切り替え: Todo → 進行中 → 完了
3. 完了タスクは ● でマークされ緑色で表示

## 🤝 コントリビューション

1. リポジトリをフォーク
2. 機能ブランチを作成 (`git checkout -b feature/amazing-feature`)
3. 変更に対するテストを作成（TDDアプローチ）
4. 機能を実装
5. 全てのテストが通ることを確認 (`go test ./...`)
6. 変更をコミット (`git commit -m 'Add amazing feature'`)
7. ブランチをプッシュ (`git push origin feature/amazing-feature`)
8. プルリクエストを開く

## 📄 ライセンス

このプロジェクトはMITライセンスの下でライセンスされています。詳細については [LICENSE](LICENSE) ファイルを参照してください。

## 🙏 謝辞

- ターミナルUIに [tview](https://github.com/rivo/tview) を使用
- CLIは [Cobra](https://github.com/spf13/cobra) を使用
- テストに [Testify](https://github.com/stretchr/testify) を使用
- クリーンアーキテクチャ原則に従う
- テスト駆動開発手法を使用して開発

## 🔮 ロードマップ

### 計画中の機能
- [ ] 正規表現サポート付き高度検索
- [ ] 期限管理と通知
- [ ] タスク統計と生産性レポート
- [ ] データエクスポート（CSV、Markdown）
- [ ] 設定ファイルサポート
- [ ] カスタムキーバインド
- [ ] タスクカテゴリとプロジェクト
- [ ] 時間追跡統合

---

**楽しいタスク管理を！ 🎉**

質問、問題、機能要求については、GitHubで問題を開いてください。